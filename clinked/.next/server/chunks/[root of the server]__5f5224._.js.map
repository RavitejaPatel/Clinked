{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/v-rapoosala/Downloads/clinked/src/app/api/client/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\r\n\r\nexport async function GET() {\r\n  const BASE_URL = 'https://api.clinked.com/v3/accounts/21680/groups';\r\n  const BEARER_TOKEN = 'fca75494-1254-46df-a88c-ea51ac12a299';\r\n\r\n  let allItems = [];\r\n  let currentPage = 1;\r\n  const pageSize = 100; // Keep this consistent with your API response\r\n\r\n  try {\r\n    while (true) {\r\n      const response = await fetch(\r\n        `${BASE_URL}?page=${currentPage}&size=${pageSize}`,\r\n        {\r\n          method: 'GET',\r\n          headers: {\r\n            Authorization: `Bearer ${BEARER_TOKEN}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        return NextResponse.json(\r\n          { error: response.statusText },\r\n          { status: response.status }\r\n        );\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      // Validate and collect items\r\n      if (data.items && Array.isArray(data.items)) {\r\n        allItems = allItems.concat(data.items);\r\n      } else {\r\n        console.warn(`Unexpected response format on page ${currentPage}:`, data);\r\n        break;\r\n      }\r\n\r\n      // Stop if no next page\r\n      if (!data.nextPage) {\r\n        break;\r\n      }\r\n\r\n      currentPage++;\r\n    }\r\n\r\n    return NextResponse.json(allItems, { status: 200 });\r\n  } catch (error) {\r\n    console.error('Error fetching API:', error);\r\n    return NextResponse.json(\r\n      { error: 'Internal Server Error' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAAA;;AAEO,eAAe;IACpB,MAAM,WAAW;IACjB,MAAM,eAAe;IAErB,IAAI,WAAW,EAAE;IACjB,IAAI,cAAc;IAClB,MAAM,WAAW,KAAK,8CAA8C;IAEpE,IAAI;QACF,MAAO,KAAM;YACX,MAAM,WAAW,MAAM,MACrB,GAAG,SAAS,MAAM,EAAE,YAAY,MAAM,EAAE,UAAU,EAClD;gBACE,QAAQ;gBACR,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,cAAc;oBACvC,gBAAgB;gBAClB;YACF;YAGF,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;oBAAE,OAAO,SAAS,UAAU;gBAAC,GAC7B;oBAAE,QAAQ,SAAS,MAAM;gBAAC;YAE9B;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,6BAA6B;YAC7B,IAAI,KAAK,KAAK,IAAI,MAAM,OAAO,CAAC,KAAK,KAAK,GAAG;gBAC3C,WAAW,SAAS,MAAM,CAAC,KAAK,KAAK;YACvC,OAAO;gBACL,QAAQ,IAAI,CAAC,CAAC,mCAAmC,EAAE,YAAY,CAAC,CAAC,EAAE;gBACnE;YACF;YAEA,uBAAuB;YACvB,IAAI,CAAC,KAAK,QAAQ,EAAE;gBAClB;YACF;YAEA;QACF;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,UAAU;YAAE,QAAQ;QAAI;IACnD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAElB;AACF"}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}